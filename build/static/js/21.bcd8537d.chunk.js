(this["webpackJsonpfe-admin-senior-ute"]=this["webpackJsonpfe-admin-senior-ute"]||[]).push([[21],{311:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return b}));var r=n(121),c=n(92),a=n.n(c),o=n(418),i=n.n(o),l=n(61),s=i.a.create({baseURL:l.b.ApiUrl,timeout:3e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use((function(e){var t,n=l.b.getAPIRequestToken();return n?(e.headers.Authorization="".concat(null===n||void 0===n||null===(t=n.access)||void 0===t?void 0:t.token),e):e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e}),(function(e){var t=e.response.status,n=e.response.config;return 401===t&&Object(r.a)(a.a.mark((function e(){var t,r,c,o,i,u,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.b.getAPIRequestToken(),e.next=3,s.post("/api/v1/user/refresh",{refreshToken:null===r||void 0===r||null===(t=r.refresh)||void 0===t?void 0:t.token});case 3:if(null===(c=e.sent)||void 0===c||!c.data){e.next=13;break}if(null!==c&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.token){e.next=8;break}return l.b.setApiRequestToken(""),e.abrupt("return");case 8:return l.b.setApiRequestToken(null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i.token),n.headers={"Content-Type":"application/json",Authorization:"".concat(null===c||void 0===c||null===(u=c.data)||void 0===u||null===(d=u.token)||void 0===d||null===(f=d.access)||void 0===f?void 0:f.token)},n.baseURL=l.b.ApiUrl,n.timeout=3e4,e.abrupt("return",s(n));case 13:case"end":return e.stop()}}),e)})))(),e.response}));var u=function(e,t){return s.post(e,t)},d=function(e,t){return s.get("".concat(e),{params:t})},f=function(e,t){return s.put("".concat(e),t)},b=function(e,t){return s.delete("".concat(e),{params:t})}},313:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(645),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r.a[e]({message:t,description:n})}},437:function(e,t,n){"use strict";var r=n(120),c=n(2),a=n(36),o=n(0),i=n(4),l=n.n(i),s=n(326),u=n(415),d=n(453),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n},b=function(e){var t,n=e.prefixCls,a=e.className,i=e.checked,s=e.onChange,u=e.onClick,b=f(e,["prefixCls","className","checked","onChange","onClick"]),p=(0,o.useContext(d.b).getPrefixCls)("tag",n),v=l()(p,(t={},Object(r.a)(t,"".concat(p,"-checkable"),!0),Object(r.a)(t,"".concat(p,"-checkable-checked"),i),t),a);return o.createElement("span",Object(c.a)({},b,{className:v,onClick:function(e){null===s||void 0===s||s(!i),null===u||void 0===u||u(e)}}))},p=n(430),v=n(431),j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n},m=new RegExp("^(".concat(p.a.join("|"),")(-inverse)?$")),O=new RegExp("^(".concat(p.b.join("|"),")$")),h=function(e,t){var n,i=e.prefixCls,f=e.className,b=e.style,p=e.children,h=e.icon,x=e.color,y=e.onClose,k=e.closeIcon,g=e.closable,C=void 0!==g&&g,w=j(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),E=o.useContext(d.b),N=E.getPrefixCls,P=E.direction,T=o.useState(!0),S=Object(a.a)(T,2),R=S[0],I=S[1];o.useEffect((function(){"visible"in w&&I(w.visible)}),[w.visible]);var A=function(){return!!x&&(m.test(x)||O.test(x))},U=Object(c.a)({backgroundColor:x&&!A()?x:void 0},b),B=A(),D=N("tag",i),F=l()(D,(n={},Object(r.a)(n,"".concat(D,"-").concat(x),B),Object(r.a)(n,"".concat(D,"-has-color"),x&&!B),Object(r.a)(n,"".concat(D,"-hidden"),!R),Object(r.a)(n,"".concat(D,"-rtl"),"rtl"===P),n),f),z=function(e){e.stopPropagation(),null===y||void 0===y||y(e),e.defaultPrevented||"visible"in w||I(!1)},V="onClick"in w||p&&"a"===p.type,q=Object(s.a)(w,["visible"]),L=h||null,K=L?o.createElement(o.Fragment,null,L,o.createElement("span",null,p)):p,_=o.createElement("span",Object(c.a)({},q,{ref:t,className:F,style:U}),K,C?k?o.createElement("span",{className:"".concat(D,"-close-icon"),onClick:z},k):o.createElement(u.a,{className:"".concat(D,"-close-icon"),onClick:z}):null);return V?o.createElement(v.a,null,_):_},x=o.forwardRef(h);x.displayName="Tag",x.CheckableTag=b;t.a=x},478:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(311),c=function(e){return Object(r.b)("/api/v1/user")},a=function(e){return Object(r.c)("/api/v1/user/login",e)},o=function(e){return Object(r.c)("/api/v1/user/update-status",e)}},642:function(e,t,n){},660:function(e,t,n){"use strict";n.r(t);var r=n(19),c=n(121),a=n(36),o=n(92),i=n.n(o),l=n(10),s=n(12),u=n(287),d=n(478),f=n(7),b=n(0),p=n(46),v=n(123),j=n(497),m=n(288),O=n(644),h=n(663),x=n(449),y=n(437),k=n(2),g=n(4),C=n.n(g),w=n(419),E=n(535),N=n(391),P=n(494),T=n(496),S=n(473),R=n(452),I=n(453),A=n(420),U=n(450),B=n(442);function D(e){return!(!e||!e.then)}var F=function(e){var t=b.useRef(!1),n=b.useRef(),r=Object(B.a)(!1),c=Object(a.a)(r,2),o=c[0],i=c[1];b.useEffect((function(){var t;if(e.autoFocus){var r=n.current;t=setTimeout((function(){return r.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var l=e.type,s=e.children,u=e.prefixCls,d=e.buttonProps;return b.createElement(x.a,Object(k.a)({},Object(T.a)(l),{onClick:function(n){var r=e.actionFn,c=e.close;if(!t.current)if(t.current=!0,r){var a;if(e.emitEvent){if(a=r(n),e.quitOnNullishReturnValue&&!D(a))return t.current=!1,void c(n)}else if(r.length)a=r(c),t.current=!1;else if(!(a=r()))return void c();!function(n){var r=e.close;D(n)&&(i(!0),n.then((function(){i(!1,!0),r.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),i(!1,!0),t.current=!1})))}(a)}else c()},loading:o,prefixCls:u},d,{ref:n}),s)},z=void 0,V=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n},q=b.forwardRef((function(e,t){var n=b.useContext(I.b).getPrefixCls,r=Object(w.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),c=Object(a.a)(r,2),o=c[0],i=c[1],l=function(t,n){var r;i(t,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t,n)},s=function(e){l(!1,e)},u=function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(z,t)},d=function(t){var n;l(!1,t),null===(n=e.onCancel)||void 0===n||n.call(z,t)},f=e.prefixCls,p=e.placement,v=e.children,j=e.overlayClassName,m=V(e,["prefixCls","placement","children","overlayClassName"]),O=n("popover",f),h=n("popconfirm",f),y=C()(h,j),g=b.createElement(S.a,{componentName:"Popconfirm",defaultLocale:R.a.Popconfirm},(function(t){return function(t,r){var c,a=e.okButtonProps,o=e.cancelButtonProps,i=e.title,l=e.cancelText,f=e.okText,p=e.okType,v=e.icon,j=e.showCancel,m=void 0===j||j;return b.createElement("div",{className:"".concat(t,"-inner-content")},b.createElement("div",{className:"".concat(t,"-message")},v,b.createElement("div",{className:"".concat(t,"-message-title")},(c=i)?"function"===typeof c?c():c:null)),b.createElement("div",{className:"".concat(t,"-buttons")},m&&b.createElement(x.a,Object(k.a)({onClick:d,size:"small"},o),l||r.cancelText),b.createElement(F,{buttonProps:Object(k.a)(Object(k.a)({size:"small"},Object(T.a)(p)),a),actionFn:u,close:s,prefixCls:n("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},f||r.okText)))}(O,t)})),E=n();return b.createElement(P.a,Object(k.a)({},m,{prefixCls:O,placement:p,onVisibleChange:function(t){e.disabled||l(t)},visible:o,overlay:g,overlayClassName:y,ref:t,transitionName:Object(U.c)(E,"zoom-big",e.transitionName)}),Object(A.a)(v,{onKeyDown:function(e){var t,n;b.isValidElement(v)&&(null===(n=null===v||void 0===v?void 0:(t=v.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===N.a.ESC&&o&&l(!1,e)}(e)}}))}));q.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:b.createElement(E.a,null),disabled:!1};var L=q,K=n(655),_=n(424),J=n.n(_),Y=(n(61),n(642),n(1)),$=function(e){var t=e.data,n=e.toggleBlockUser,c=Object(b.useState)(""),o=Object(a.a)(c,2),i=o[0],l=o[1],s=Object(b.useState)(""),u=Object(a.a)(s,2),d=u[0],f=u[1],p=Object(b.useRef)(null),v=function(e,t,n){t(),l(e[0]),f(n)},k=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,c=t.confirm,a=t.clearFilters;return Object(Y.jsxs)("div",{style:{padding:8},children:[Object(Y.jsx)(O.a,{ref:p,placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return v(r,c,e)},style:{marginBottom:8,display:"block"}}),Object(Y.jsxs)(h.b,{children:[Object(Y.jsx)(x.a,{type:"primary",onClick:function(){return v(r,c,e)},icon:Object(Y.jsx)(j.a,{}),size:"small",style:{width:90},children:"Search"}),Object(Y.jsx)(x.a,{onClick:function(){return a&&function(e){e(),l("")}(a)},size:"small",style:{width:90},children:"Reset"}),Object(Y.jsx)(x.a,{type:"link",size:"small",onClick:function(){c({closeDropdown:!1}),l(r[0]),f(e)},children:"Filter"})]})]})},filterIcon:function(e){return Object(Y.jsx)(j.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){var e;return null===(e=p.current)||void 0===e?void 0:e.select()}),100)},render:function(t){return d===e?Object(Y.jsx)(J.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[i],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},g=[Object(r.a)({title:"Name",dataIndex:"name",key:"name",width:"20%",sorter:function(e,t){return e.name<t.name},sortDirections:["descend","ascend"]},k("name")),Object(r.a)({title:"Email",dataIndex:"email",key:"email",width:"20%",sorter:function(e,t){return e.email<t.email},sortDirections:["descend","ascend"]},k("email")),Object(r.a)(Object(r.a)({title:"Role",dataIndex:"role",key:"role",width:"10%",align:"center"},k("role")),{},{sorter:function(e,t){return e.role<t.role},sortDirections:["descend","ascend"],render:function(e){var t="61ec341698e78b1ec07d6219"===e?"geekblue":"green";return Object(Y.jsx)("span",{children:Object(Y.jsx)(y.a,{color:t,children:"61ec341698e78b1ec07d6219"===e?"Admin":"User"},e)})}}),Object(r.a)(Object(r.a)({title:"Status",dataIndex:"status",key:"status",width:"10%",align:"center"},k("status")),{},{sorter:function(e,t){return e.status<t.status},sortDirections:["descend","ascend"],render:function(e){var t="active"===e?"geekblue":"green";return Object(Y.jsx)("span",{children:Object(Y.jsx)(y.a,{color:t,children:e},e)})}}),{title:"Action",key:"action",width:"10%",align:"center",render:function(e,t){return"active"===(null===t||void 0===t?void 0:t.status)?Object(Y.jsx)(L,{title:"Are you sure to block this user?",onConfirm:function(){return n("inactive",null===t||void 0===t?void 0:t._id)},okText:"Yes",cancelText:"No",children:Object(Y.jsx)(x.a,{type:"primary",children:"Block"})}):Object(Y.jsx)(L,{title:"Are you sure to unblock this user?",onConfirm:function(){return n("active",null===t||void 0===t?void 0:t._id)},okText:"Yes",cancelText:"No",children:Object(Y.jsx)(x.a,{children:"UnBlock"})})}}];return Object(Y.jsx)(m.a,{border:"light",className:"table-wrapper table-responsive shadow-sm",children:Object(Y.jsx)(m.a.Body,{className:"mt-3",children:Object(Y.jsx)(K.a,{columns:g,dataSource:t})})})},H=n(313);t.default=function(){var e=Object(b.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],j=Object(b.useState)(!1),m=Object(a.a)(j,2),O=(m[0],m[1]),h=(Object(p.d)((function(e){return e.confirmDelete})),Object(p.c)()),x=Object(b.useState)(""),y=Object(a.a)(x,2);y[0],y[1];h(Object(v.c)({title:"Confirm delete this service",body:"Are you sure to delete this service ?\n            This modified changes will not saved and you can't rollback"}));var k=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.a)();case 3:200===(t=e.sent).status&&o(t.data.users.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{id:e._id})}))),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.c)({status:t,user:n});case 3:if(200!==(null===(r=e.sent)||void 0===r?void 0:r.status)){e.next=10;break}return e.next=7,k();case 7:Object(H.a)("success","".concat(t?"Block":"Unblock"," a new topic successfully")),e.next=12;break;case 10:Object(H.a)("error","".concat(t?"Block":"Unblock"," a new topic failed")),console.log(null===r||void 0===r?void 0:r.error);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(b.useEffect)((function(){Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4",children:Object(Y.jsxs)("div",{className:"d-block mb-4 mb-md-0",children:[Object(Y.jsxs)(u.a,{className:"d-none d-md-inline-block",listProps:{className:"breadcrumb-dark breadcrumb-transparent"},children:[Object(Y.jsx)(u.a.Item,{children:Object(Y.jsx)(s.a,{icon:l.C})}),Object(Y.jsx)(u.a.Item,{active:!0,children:f.a.UserPage.name})]}),Object(Y.jsx)("h4",{children:f.a.UserPage.name}),Object(Y.jsx)("p",{className:"mb-0",children:"Below tables will shown all of course in your website and some information about them."})]})}),Object(Y.jsx)("div",{className:"table-settings mb-4",children:Object(Y.jsx)($,{data:n,handleShow:function(){return O(!0)},toggleBlockUser:g})})]})}}}]);
//# sourceMappingURL=21.bcd8537d.chunk.js.map